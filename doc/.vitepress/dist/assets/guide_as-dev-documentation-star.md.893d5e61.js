import{_ as s,o as a,c as n,O as l}from"./chunks/framework.95b9d657.js";const h=JSON.parse('{"title":"开始","description":"","frontmatter":{},"headers":[],"relativePath":"guide/as-dev-documentation-star.md","filePath":"guide/as-dev-documentation-star.md"}'),e={name:"guide/as-dev-documentation-star.md"},p=l(`<h1 id="开始" tabindex="-1">开始 <a class="header-anchor" href="#开始" aria-label="Permalink to &quot;开始&quot;">​</a></h1><p>BILIBILIAS拥抱开源、开放，在GPL-3.0 license规则下我们欢迎其他开发者有自己的想法，对BILIBILIAS进行改造和二次开发。</p><h2 id="拉取源代码" tabindex="-1">拉取源代码 <a class="header-anchor" href="#拉取源代码" aria-label="Permalink to &quot;拉取源代码&quot;">​</a></h2><h3 id="必要条件" tabindex="-1">必要条件 <a class="header-anchor" href="#必要条件" aria-label="Permalink to &quot;必要条件&quot;">​</a></h3><ul><li>自1.1.5版本开始，bilibilias重构改用<a href="https://kotlinlang.org/" target="_blank" rel="noreferrer"><strong>Kotlin</strong></a>编写，因此你需要了解一些Kotlin。</li><li>请确保<a href="https://www.injdk.cn/" target="_blank" rel="noreferrer"><strong>Java JDK</strong></a>在<strong>11</strong>及以上版本，<strong>不支持Java8</strong></li></ul><p><strong>请确保电脑上已经安装了Git</strong></p><p>下面几个版本稍微有些区别</p><ul><li><a href="https://github.com/1250422131/bilibilias" target="_blank" rel="noreferrer">正式版</a>：已经在上线使用的版本代码</li><li><a href="https://github.com/1250422131/bilibilias/tree/develop_imcys" target="_blank" rel="noreferrer">测试版</a>：未正式上线，但已经发布测试的版本代码</li><li><a href="https://github.com/1250422131/bilibilias/tree/develop_beta" target="_blank" rel="noreferrer">开发板</a>：未上线，只通过了简单开发测试的版本代码</li></ul><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-xdTRf" id="tab-jzOlifv" checked="checked"><label for="tab-jzOlifv">正式版</label><input type="radio" name="group-xdTRf" id="tab-v58hhtk"><label for="tab-v58hhtk">测试版</label><input type="radio" name="group-xdTRf" id="tab-5UT5hvx"><label for="tab-5UT5hvx">开发版</label></div><div class="blocks"><div class="language-sh active"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">develop</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://github.com/1250422131/bilibilias.git</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">develop_beta</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://github.com/1250422131/bilibilias.git</span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-b</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">develop_imcys</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://github.com/1250422131/bilibilias.git</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">Github可能在某些地区无法访问</p><p>因为一些原因Github在部分地区是无法访问的，你需要考虑使用镜像站或者其他方式拉取。</p></div></div></div><p>因此，建议拉取正式版代码，如果想要获得更多能力代码，就拉取测试版，最激进的开发版并不建议拉取。</p><h2 id="目录结构" tabindex="-1">目录结构 <a class="header-anchor" href="#目录结构" aria-label="Permalink to &quot;目录结构&quot;">​</a></h2><p>BILIBILIAS目前使用<a href="https://github.com/xiaojinzi123/KComponent" target="_blank" rel="noreferrer">KComponent</a>进行组件化开发，因此项目文件夹会稍微复杂一些。</p><p>emmm，比较难搞，因为目录结构太多，一次性粘贴过来也说不了什么，我们还是粘贴下大致内容吧</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">├─ app</span></span>
<span class="line"><span style="color:#A6ACCD;">├─ common</span></span>
<span class="line"><span style="color:#A6ACCD;">├─ model_ffmpeg</span></span>
<span class="line"><span style="color:#A6ACCD;">├─ tool_livestream</span></span>
<span class="line"><span style="color:#A6ACCD;">└─ tool_log_export</span></span></code></pre></div><p>其中<code>app</code>模块为BILIBILIAS的主要内容，这是因为早期并未采用组件化，导致部分核心业务没有抽离到其他模块开发。 <code>common</code>模块承担了其他模块公共的业务和依赖，因此其他所有模块必须依赖此模块。 <code>model_ffmpeg</code>模块承担了视频流处理的功能业务，有需要操作视频的模块可以依赖此模块，此模块内简单封装了部分操作。 <code>tool_livestream</code>模块是一个要被废除的模块，原本承担了直播流缓存解析的功能，后来因为需要考虑的问题较多，便不再维护。 <code>tool_log_export</code>模块是一个日志导出模块，此模块后续的设计是支持导出更多B站日志记录，如播放记录，收藏记录，硬币记录等。</p><p>当然，内部的结构仍然复杂，我们后面会介绍到。</p><h2 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h2><p>配置文件目前以app模块为主，换句话说，打包后的名称，包名等信息会以下面的信息为准，因此你可以在这里配置你自己的包名和版本信息等内容。</p><div class="language-gradle"><button title="Copy Code" class="copy"></button><span class="lang">gradle</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">android {</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    defaultConfig {</span></span>
<span class="line"><span style="color:#A6ACCD;">        applicationId &quot;com.imcys.bilibilias&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        minSdk 21</span></span>
<span class="line"><span style="color:#A6ACCD;">        //noinspecton ExpiredTargetSdkVersion</span></span>
<span class="line"><span style="color:#A6ACCD;">        targetSdk 29</span></span>
<span class="line"><span style="color:#A6ACCD;">        versionCode 203</span></span>
<span class="line"><span style="color:#A6ACCD;">        versionName &quot;2.0.31&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        ......</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    .........</span></span>
<span class="line"><span style="color:#A6ACCD;">    buildTypes {</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        debug {</span></span>
<span class="line"><span style="color:#A6ACCD;">            ......</span></span>
<span class="line"><span style="color:#A6ACCD;">            resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_debug&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">            resValue &quot;string&quot;, &quot;app_channel&quot;, &quot;@string/app_channel_debug&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        release {</span></span>
<span class="line"><span style="color:#A6ACCD;">            ......</span></span>
<span class="line"><span style="color:#A6ACCD;">            resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_release&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">            resValue &quot;string&quot;, &quot;app_channel&quot;, &quot;@string/app_channel_release&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">..</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div>`,19),o=[p];function t(c,i,r,C,d,A){return a(),n("div",null,o)}const y=s(e,[["render",t]]);export{h as __pageData,y as default};
